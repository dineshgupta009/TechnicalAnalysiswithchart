<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"/>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>
    <!-- Option 1: Include in HTML -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

</head>
<body>

<nav class=" navbar navbar-expand-lg navbar-light bg-info ">
    <div class="container">
        <a th:href="@{/symbol}" class="navbar-brand" href="#"> Options Gainer <i class="bi bi-house-fill"></i></a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Builder <span class="sr-only"></span></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownPortfolioLink" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false"><i class="bi bi-file-earmark-bar-graph-fill"></i>
                        Portfolio
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownPortfolioLink">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownFutureLink" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Future
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownFutureLink">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownOptionsLink" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false"><i class="bi bi-bar-chart-line-fill"></i>
                        Options
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownOptionsLink">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownOILink" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Open Interest
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownOILink">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownFII/DIILink" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        FII/DII
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownFII/DIILink">
                        <a class="dropdown-item" href="#"><i class="bi bi-house-fill"></i>FII/DII Cash Market</a>
                        <a class="dropdown-item" href="#"><i class="bi bi-house-fill"></i>FII/DII Derivatives</a>

                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownEducationLink" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Education
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownEducationLink">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container">
    <div class="dropdown">
        <div id="Option" class="col-md-5">
            <a> <label id="selectSymbolOp">Select Symbol</label>
                <div class="custom_select">
                    <select id="select_Option" aria-labelledby="selectSymbolLbl">
                        <option value="">Select</option>
                        <option value="NIFTY">NIFTY</option>
                        <option value="BANKNIFTY">BANKNIFTY</option>
                        <option value="FINNIFTY">FINNIFTY</option>
                        <option value="SENSEX">SENSEX</option>
                        <option value="MIDCAP">MIDCAP</option>
                    </select>
                </div>
            </a>
        </div>
        <H5>
            <a class=" container  badge text-bg-secondary" href="#">Nifty Spot Price
                <span th:text="${spotPrice}">Spot Price</span></a>
            <span class="badge text-bg-primary">Lot Size : 50</span>
            <span class="badge text-bg-info">PCR :  1.25</span>
            <span class="badge text-bg-warning ">MaxPain Strike :21450</span>
            <span class="badge text-bg-info">Modified MaxPain :21500 </span>
        </H5>
    </div>
    <div id="container" style="width: 1050px; height: 300px; margin: 0 auto"></div>
    <div id="container1" style="width: 1050px; height: 250px; margin: 0 auto"></div>
</div>
<script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script th:inline="javascript">
    $(function(){

    Highcharts.chart('container1', {
        chart: {
            type: 'column',
            spacingTop: 0,
            spacingRight: 0,
            spacingBottom: 0,
            spacingLeft: 0,
        },
<!--        title: {-->
<!--            text: 'Nifty'-->
<!--        },-->
        subtitle: {
            text: ''
        },
        xAxis: {
            categories: [[${strikePrice}]],
            crosshair: true
        },
<!--        yAxis: {-->
<!--&lt;!&ndash;        chart.yAxis[0].setExtremes(100,300);&ndash;&gt;-->
<!--            min: [0].set,-->
<!--            max:100000,-->
<!--            title: {-->
<!--                text: 'ChangeIn OI'-->
<!--            }-->
<!--        },-->
        tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} K</b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            column: {
                pointPadding: 0,
                borderWidth: 0
            }
        },
        series: [{
            name: 'Put Volume',
            data: [[${putVal}]],
            color: "#f62f3b"
        },{
            name: 'Call Volume',
            data: [[${callVal}]],
            color: "#0c7c05"
        }]
      });
<!--  ================================-->
    Highcharts.chart('container', {
        chart: {
            type: 'column',
            spacingTop: 0,
            spacingRight: 0,
            spacingBottom: 0,
            spacingLeft: 0,
        },
        title: {
            text: 'Nifty'
        },
        subtitle: {
            text: ''
        },
        xAxis: {
            categories: [[${strikePrice}]],
            crosshair: false
        },


<!--        yAxis: {-->
<!--            min: [0].set,-->
<!--            max:200000,-->
<!--            tickInterval: 10000,-->
<!--            title: {-->
<!--                text: 'Open Interest'-->
<!--            }-->
<!--        },-->
        tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} K</b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            column: {
                pointPadding: 0,
                borderWidth: 0
            }
        },
        series: [{
            name: 'Put Volume',
            data: [[${OiPutVal}]],
            color: "#f62f3b"
        },{
            name: 'Call Volume',
            data: [[${OiCallVal}]],
            color: "#0c7c05"
        }]
      });
    });



</script>

</body>
</html>